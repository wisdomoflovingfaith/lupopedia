---
wolfie.headers: explicit architecture with structured clarity for every file.
file.last_modified_system_version: 4.0.15
header_atoms:
  - GLOBAL_CURRENT_LUPOPEDIA_VERSION
  - GLOBAL_CURRENT_AUTHORS
dialog:
  speaker: CAPTAIN_WOLFIE
  target: @everyone
  message: "Created VERSION_3_INGESTION_RULES.md documenting Version 3 of the Python ingestion program - Semantic Radius Expansion & External Public Ingestion. This is Version 3 of the ingestion engine (not Lupopedia version 3.0). Documents how ingestion extends beyond local filesystem to trusted external public content through semantic following, not web crawling."
  mood: "00FF00"
tags:
  categories: ["documentation", "ingestion", "semantic-navigation", "federation"]
  collections: ["core-docs"]
  channels: ["dev", "public"]
in_this_file_we_have:
  - Version 3 of Python Ingestion Program (not Lupopedia version 3.0)
  - Ingestion Radius Levels (Radius 0, 1, 2)
  - What Counts as Trusted External Link
  - Eligible External Content Types
  - How External Content Is Mapped Into Lupopedia
  - Federation Rules
  - Safety & Ethical Rules
  - Why Version 3 of Ingestion Program Is Not "Pushing It"
  - Summary
sections:
  - title: "Overview"
    anchor: "#overview"
  - title: "Ingestion Radius Levels"
    anchor: "#ingestion-radius-levels"
  - title: "What Counts as a Trusted External Link"
    anchor: "#what-counts-as-a-trusted-external-link"
  - title: "What External Content Is Eligible for Ingestion"
    anchor: "#what-external-content-is-eligible-for-ingestion"
  - title: "How External Content Is Mapped Into Lupopedia"
    anchor: "#how-external-content-is-mapped-into-lupopedia"
  - title: "Federation Rules"
    anchor: "#federation-rules"
  - title: "Safety & Ethical Rules"
    anchor: "#safety-ethical-rules"
  - title: "Why Version 3 of the Ingestion Program Is Not Pushing It"
    anchor: "#why-version-3-of-the-ingestion-program-is-not-pushing-it"
  - title: "Summary"
    anchor: "#summary"
file:
  title: "Version 3 Ingestion Rules - Semantic Radius Expansion & External Public Ingestion"
  description: "Version 3 of the Python ingestion program (not Lupopedia version 3.0) - how the ingestion engine extends beyond local filesystem to trusted external public content, creating a federated semantic mesh through semantic following"
  version: GLOBAL_CURRENT_LUPOPEDIA_VERSION
  status: published
  author: GLOBAL_CURRENT_AUTHORS
---

# **Version 3 Ingestion Rules**

## **Semantic Radius Expansion & External Public Ingestion**

**âš ï¸ Important:** "Version 3" refers to **Version 3 of the Python ingestion program** (see [My First Python Program](../appendix/appendix/MY_FIRST_PYTHON_PROGRAM.md)), **NOT Lupopedia version 3.0**. Lupopedia is currently at version 4.0.2. This document describes the evolution of the ingestion engine component within Lupopedia.

Version 3 of the ingestion program extends Lupopedia's ingestion engine beyond the local server's public root. Instead of only importing files physically present on the server, Version 3 of the ingestion program allows each installation to ingest trusted external public content that the site owner has implicitly endorsed through linking.

This creates a **federated semantic mesh**, where thousands of Crafty Syntax installations contribute meaning, structure, and content to a shared knowledge graph â€” without centralization, scraping, or overreach.

---

## **1. Ingestion Radius Levels**

The ingestion program defines three ingestion radii:

### **Radius 0 â€” Local Filesystem (Ingestion Program Version 1)**

```
/public_html/
/www/
/var/www/html/
Windows wwwroot
Any configured public directory
```

**This is the original ingestion layer (first version of the Python ingestion program).**

Files physically present on the server's filesystem are imported directly.

### **Radius 1 â€” Internal Site URLs (Ingestion Program Version 2)**

URLs that resolve to the same domain:
- URLs that map to the same installation
- URLs rewritten by Crafty Syntax routing
- Dynamic pages generated by the CMS
- Virtual paths handled by the application

**This allows ingestion of:**
- dynamic pages
- CMS output
- internal links
- virtual paths

Content that exists as URLs but may not have direct filesystem representation.

### **Radius 2 â€” Trusted External Public URLs (Ingestion Program Version 3)**

**This is the new layer in Version 3 of the ingestion program.**

Lupopedia may ingest external public content if:

- The site owner links to it
- The link is publicly accessible
- The content is nonâ€‘authenticated
- The content is static or fetchable
- The content is not blocked by robots.txt
- The content is not behind a login
- The content is not private or userâ€‘specific

**This is not a crawler.**  
**This is semantic following.**

Lupopedia follows the edges that the website owner has already created through linking, treating those links as implicit endorsement of the external content.

---

## **2. What Counts as a "Trusted External Link"**

A link is trusted if:

- It appears in the site's HTML
- It appears in a navigation tab
- It appears in a Collection
- It appears in a content item
- It appears in a sitemap
- It appears in a menu
- It appears in a footer
- It appears in a document
- It appears in a metadata field

**If the site owner links to it, Lupopedia treats it as endorsed.**

This is the same trust model used by:

- search engines
- RSS aggregators
- citation networks
- academic graph systems

The key principle: **Trust follows linkage.** If a website owner includes a link in their content, they are implicitly endorsing that content as relevant and trustworthy for their semantic context.

---

## **3. What External Content Is Eligible for Ingestion**

### **Allowed**

- HTML pages
- PDFs
- text files
- images
- public datasets
- public documents
- static assets
- JSON feeds
- XML feeds
- public APIs (GET only)

All content must be:
- Publicly accessible
- Non-authenticated
- Not blocked by robots.txt
- Not rate-limited
- Not requiring POST requests
- Not containing personal data

### **Not Allowed**

- authenticated content
- private dashboards
- userâ€‘specific pages
- anything requiring cookies
- anything requiring POST
- anything behind a login
- anything blocked by robots.txt
- anything with rateâ€‘limit warnings

### **Optional (Configurable)**

Administrators can configure whether to ingest:

- large files
- media files
- archives
- binary blobs

These may be:
- Ingested with metadata only (no content download)
- Skipped entirely
- Ingested with size limits

---

## **4. How External Content Is Mapped Into Lupopedia**

When an external URL is ingested:

**Lupopedia assigns:**
- `content_url` = the external URL
- `content_path` = virtual path
- `source_type` = `external`
- `source_domain` = domain of origin
- `collection_id` = inherited from referring content
- `navigation_tabs` = inherited from referring content
- `semantic_edges` = generated from placement

### **Example**

If a Honolulu Parks page links to:

```
https://www.honolulu.gov/dpr/summer-programs.pdf
```

And that page is under:

```
Collection: County of Honolulu
Tab: Parks and Recreation
Sub-tab: Programs
```

Then the external PDF inherits:

- Collection: County of Honolulu
- Tab: Parks and Recreation
- Sub-tab: Programs
- Edges: `content â†’ Parks and Recreation`
- Edges: `content â†’ Programs`
- Edges: `content â†’ external_source:honolulu.gov`

**This is semantic inheritance.**

External content inherits the semantic context of the referring page, allowing it to participate in the same knowledge graph structure as local content.

---

## **5. Federation Rules**

Each installation:

- ingests its own local content
- ingests its own internal URLs
- ingests its own trusted external links
- contributes edges to the global graph
- never shares private content
- never exposes filesystem paths
- never leaks user data

**Federation is:**
- optâ€‘in
- metadataâ€‘only
- identityâ€‘based
- URLâ€‘driven
- conflictâ€‘tolerant

### **Merging Across Installations**

If two installations ingest the same external URL, Lupopedia merges:

- edges
- metadata
- semantic categories
- navigation patterns

**This is how the global graph learns.**

Multiple installations may reference the same external content from different semantic contexts. Lupopedia aggregates these perspectives, creating a richer understanding of how that content relates to different knowledge domains.

### **Federation Example**

**Installation A** (educational site) links to a research paper under:
- Collection: Research
- Tab: Computer Science
- Sub-tab: Machine Learning

**Installation B** (corporate site) links to the same paper under:
- Collection: Technology
- Tab: Innovation
- Sub-tab: AI Applications

**Federation merges:**
- Both semantic contexts are preserved
- The paper gains edges to both knowledge domains
- Future searches can discover the paper through either context
- The global graph understands multiple perspectives on the same content

---

## **6. Safety & Ethical Rules**

Version 3 of the ingestion program must:

- **respect robots.txt** â€” If a site blocks crawlers, Lupopedia respects that
- **respect rate limits** â€” Throttle requests to avoid overwhelming external servers
- **avoid scraping** â€” This is semantic following, not aggressive crawling
- **avoid login walls** â€” Never attempt to authenticate or bypass access controls
- **avoid personal data** â€” Never ingest user-specific content or private information
- **avoid private content** â€” Only ingest what is publicly accessible
- **avoid userâ€‘specific URLs** â€” Skip URLs with session IDs, tokens, or user parameters
- **avoid anything with tokens or session IDs** â€” These indicate private or temporary content

### **Technical Enforcement**

- **robots.txt checking** â€” Check robots.txt before any external request
- **Rate limiting** â€” Configurable delays between external requests
- **URL sanitization** â€” Remove session IDs, tokens, and user parameters
- **Content type validation** â€” Only ingest allowed content types
- **Size limits** â€” Configurable maximum file sizes
- **Timeout limits** â€” Fail gracefully if external content is slow or unavailable

**Lupopedia is a semantic OS, not a crawler.**

The goal is semantic understanding, not comprehensive web indexing. External ingestion is a side effect of semantic following, not the primary purpose.

---

## **7. Why Version 3 of the Ingestion Program Is Not "Pushing It"**

Because:

- **You already built a federated ingestion mesh** â€” Local (Version 1) and internal URL (Version 2) ingestion already work across thousands of installations
- **Each installation already maps its own public root** â€” The infrastructure for mapping files into semantic structures already exists
- **Each installation already generates semantic edges** â€” The mechanism for creating semantic relationships is already implemented
- **Each installation already syncs metadata** â€” Federation protocols for sharing semantic information are already in place
- **External ingestion is just following the edges the site owner already trusts** â€” If a website owner links to external content, they've already made the trust decision

**This is not crawling the web.**  
**This is semantic expansion.**

External ingestion (Ingestion Program Version 3) is a natural extension of the existing semantic following mechanism. It follows the same trust model (linkage = endorsement) and the same semantic inheritance rules (context from referring content).

**Remember:** This is Version 3 of the Python ingestion program, not Lupopedia version 3.0. Lupopedia 4.0.2 includes Ingestion Program Version 3 capabilities.

### **The Key Difference**

**Traditional web crawler:**
- Discovers links through aggressive crawling
- Indexes everything it can access
- Centralized control
- No trust model
- Scrapes for content

**Lupopedia semantic following:**
- Follows links that site owners explicitly create
- Only ingests what owners have implicitly endorsed
- Distributed, federated control
- Trust model based on linkage
- Maps for semantic meaning

**Version 3 of the ingestion program is evolution, not revolution.**

---

## **8. Summary**

Version 3 of the ingestion program (not Lupopedia version 3.0) allows Lupopedia to:

- **follow trusted external links** â€” Extend semantic following to external public content
- **ingest public content** â€” Include external resources in the knowledge graph
- **inherit navigation meaning** â€” External content inherits semantic context from referring pages
- **expand the semantic radius** â€” Move from local filesystem to trusted external URLs
- **merge meaning across installations** â€” Multiple perspectives on the same content create richer understanding
- **build a global knowledge graph organically** â€” The graph grows naturally from site owner decisions, not aggressive crawling

**This is the natural evolution of the Python ingestion program.**

From local filesystem ingestion (Ingestion Program Version 1) to internal URL following (Ingestion Program Version 2) to trusted external semantic expansion (Ingestion Program Version 3), the ingestion engine has evolved to create a federated semantic mesh that respects site owner intent while building a global knowledge graph.

**Important Clarification:** These are versions of the **Python ingestion program component** within Lupopedia, not versions of Lupopedia itself. Lupopedia is currently at **version 4.0.2**. The ingestion program is a sub-component that has evolved through multiple versions (1, 2, 3) as its capabilities expanded. See [My First Python Program](../appendix/appendix/MY_FIRST_PYTHON_PROGRAM.md) for the story of how this component evolved.

---

## **Related Documentation**

- **[Semantic Navigation System](SEMANTIC_NAVIGATION.md)** â€” Technical details on how semantic navigation and edge generation works
- **[Content Interface & Navigation](../developer/modules/CONTENT_INTERFACE_AND_NAVIGATION.md)** â€” How Collections and Navigation Tabs organize content
- **[Architecture Overview](ARCHITECTURE.md)** â€” Overall Lupopedia architecture including federation layer
- **[My First Python Program](../appendix/appendix/MY_FIRST_PYTHON_PROGRAM.md)** â€” The story of how a simple script became a planet-scale ingestion engine

---

## **Implementation Notes**

### **Database Schema**

External content is stored in the same `content` table as local content, with:

```sql
source_type = 'external'
content_url = 'https://external-domain.com/path/to/content.pdf'
content_path = '/virtual/path/in/lupopedia'
source_domain = 'external-domain.com'
```

### **Federation Protocol**

When external content is ingested:

1. Check if content already exists (by URL)
2. If exists, merge semantic edges and metadata
3. If new, create content record with inherited context
4. Generate semantic edges from referring content
5. Contribute edges to federated graph (if federation enabled)

### **Configuration Options**

Administrators can configure:

- **Enable/disable external ingestion** â€” Opt-in per installation
- **Maximum radius level** â€” Restrict to Radius 0, 1, or 2
- **Rate limiting** â€” Requests per minute/hour
- **Size limits** â€” Maximum file size to ingest
- **Content type whitelist** â€” Allowed MIME types
- **Domain whitelist/blacklist** â€” Trusted or blocked domains
- **robots.txt enforcement** â€” Strict or lenient
- **Federation participation** â€” Share metadata or keep private

---

**For administrators:** This is an opt-in feature. External ingestion is disabled by default and must be explicitly enabled in configuration.

**For developers:** External ingestion follows the same semantic inheritance and edge generation rules as local content. The only difference is the source type and URL storage.
