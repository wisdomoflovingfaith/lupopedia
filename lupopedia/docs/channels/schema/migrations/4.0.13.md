---
wolfie.headers: explicit architecture with structured clarity for every file.
file.last_modified_system_version: 4.0.15
header_atoms:
  - GLOBAL_CURRENT_LUPOPEDIA_VERSION
  - GLOBAL_CURRENT_AUTHORS
updated: 2026-01-14
author: GLOBAL_CURRENT_AUTHORS
dialog:
  speaker: CURSOR
  target: @everyone
  message: "Created migration documentation for version 4.0.13. This version updates WOLFIE Header format to universal specification, creates Universal Wolfie Header Specification (WHS) and Lupopedia Header Profile (LHP) documents. No database schema changes required - all changes are documentation and metadata format updates."
  mood: "00FF00"
tags:
  categories: ["documentation", "migration", "4.0.13"]
  collections: ["core-docs"]
  channels: ["dev", "release"]
file:
  title: "LUPOPEDIA 4.0.13 — Migration Guide"
  description: "Migration notes and upgrade instructions for version 4.0.13. Includes WOLFIE Header format updates and new universal specification documents."
  version: GLOBAL_CURRENT_LUPOPEDIA_VERSION
  status: published
  author: GLOBAL_CURRENT_AUTHORS
---

# LUPOPEDIA 4.0.13 — Migration Guide

**Release Date:** 2026-01-14  
**Previous Version:** 4.0.12  
**Migration Type:** Patch (Documentation and Metadata Format Updates)

---

## Overview

Version 4.0.13 is a patch release that updates the WOLFIE Header format to a universal specification. This version introduces the Universal Wolfie Header Specification (WHS) and the Lupopedia Header Profile (LHP), establishing a two-document system for header standards. **No database schema changes are required** - all changes are documentation and metadata format updates.

---

## What Changed

### Changed

1. **WOLFIE Header Format Update**
   - Replaced deprecated `wolfie.headers.version` field with new universal format
   - New required signature: `wolfie.headers: explicit architecture with structured clarity for every file.`
   - New required field: `file.last_modified_system_version: x.x.x` (per-file historical marker)
   - Signature line is constant and never changes
   - Version field is per-file historical snapshot, not global version
   - Updated all header documentation to reflect universal, ecosystem-agnostic scope

2. **Documentation Updates**
   - Updated `docs/doctrine/WOLFIE_HEADER_DOCTRINE.md` to emphasize universal scope
   - Updated `docs/agents/WOLFIE_HEADER_SPECIFICATION.md` with new format
   - All examples updated to use new header format
   - Added explicit rules for preserving exact signature line

### Added

1. **Universal Wolfie Header Specification (WHS)**
   - New document: `docs/doctrine/UNIVERSAL_WOLFIE_HEADER_SPECIFICATION.md`
   - Minimal, ecosystem-agnostic metadata standard
   - Defines universal core: `wolfie.headers` signature and `file.last_modified_system_version`
   - Includes embedding rules for Markdown, Python, JavaScript, C/C++, HTML, and binary files
   - Designed for global adoption across any ecosystem
   - WHS v1.0 specification

2. **Lupopedia Header Profile (LHP)**
   - New document: `docs/doctrine/LUPOPEDIA_HEADER_PROFILE.md`
   - Implementation profile extending WHS with Lupopedia-specific metadata
   - Adds required fields: `dialog`, `authorship`, `sections`
   - Adds optional fields: `file`, `tags`, `placement`, `lineage`, `federation`, `header_atoms`
   - Defines semantic graph integration, rewrite safety, and drift prevention doctrines
   - LHP v1.0 profile

---

## Migration Steps

### Step 1: Backup

1. Backup your documentation files in `docs/doctrine/` and `docs/agents/`
2. Backup your `config/global_atoms.yaml` file
3. Backup any custom header templates or generators

### Step 2: Update Files

1. Update `config/global_atoms.yaml` version references to 4.0.13
2. Update `lupo-includes/version.php` version constants to 4.0.13
3. Review new documentation files:
   - `docs/doctrine/UNIVERSAL_WOLFIE_HEADER_SPECIFICATION.md`
   - `docs/doctrine/LUPOPEDIA_HEADER_PROFILE.md`
4. Review updated documentation:
   - `docs/doctrine/WOLFIE_HEADER_DOCTRINE.md`
   - `docs/agents/WOLFIE_HEADER_SPECIFICATION.md`

### Step 3: Update Headers (Gradual Migration)

**Important:** This is a gradual migration. Files will be updated as they are edited.

When editing existing files:
- Update header from old format (`wolfie.headers.version: x.x.x`) to new format
- Add `wolfie.headers: explicit architecture with structured clarity for every file.`
- Change `wolfie.headers.version` to `file.last_modified_system_version`
- Update `file.last_modified_system_version` to current version (4.0.13) only if file is being modified

When creating new files:
- Use new header format with exact signature line
- Set `file.last_modified_system_version` to current version (4.0.13)

### Step 4: Verify

1. Verify new documentation files are accessible
2. Verify header examples in documentation match new format
3. Test header parsing if you have custom header processors
4. Verify version constants are updated consistently

---

## Database Changes

**None.** This version includes no database schema changes. All changes are documentation and metadata format updates.

---

## Header Format Migration

### Old Format (Deprecated)
```yaml
---
wolfie.headers.version: 4.0.12
---
```

### New Format (Required)
```yaml
---
wolfie.headers: explicit architecture with structured clarity for every file.
file.last_modified_system_version: 4.0.13
---
```

### Key Differences

1. **Signature Line**: `wolfie.headers` is now a constant signature string, not a version field
2. **Version Field**: `file.last_modified_system_version` replaces `wolfie.headers.version`
3. **Per-File Tracking**: Version is per-file historical marker, not global version
4. **Universal Scope**: Format applies to any ecosystem, not just Lupopedia

---

## Backward Compatibility

- ✅ Old format (`wolfie.headers.version`) is deprecated but still recognized
- ✅ Tools should accept both old and new formats during transition
- ✅ No breaking changes to file structure or content
- ✅ Header parsing tools may need updates to recognize new format
- ✅ Gradual migration - files updated as they are edited

---

## Rollback Procedure

If you need to rollback to 4.0.12:

1. Restore `config/global_atoms.yaml` version references
2. Restore `lupo-includes/version.php` version constants
3. Restore documentation files from backup
4. Remove new documentation files if desired:
   - `docs/doctrine/UNIVERSAL_WOLFIE_HEADER_SPECIFICATION.md`
   - `docs/doctrine/LUPOPEDIA_HEADER_PROFILE.md`

**Note:** No database rollback is needed since no schema changes were made.

---

## Known Issues

None at this time.

---

## Support

For issues or questions:
- Review `docs/doctrine/UNIVERSAL_WOLFIE_HEADER_SPECIFICATION.md` for universal format
- Review `docs/doctrine/LUPOPEDIA_HEADER_PROFILE.md` for Lupopedia-specific extensions
- Review `CHANGELOG.md` for detailed change list
- Check `docs/doctrine/WOLFIE_HEADER_DOCTRINE.md` for complete doctrine

---

## Next Steps

After migration:
1. Review Universal Wolfie Header Specification (WHS)
2. Review Lupopedia Header Profile (LHP)
3. Update any custom header generators or processors
4. Begin gradual migration of existing file headers as files are edited
5. Use new format for all new files

---

**Migration Status:** ✅ Ready for Production  
**Risk Level:** Low (Documentation and metadata format updates only, no schema changes)  
**Estimated Downtime:** None (No database changes required)
