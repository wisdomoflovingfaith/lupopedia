{
  "table_name": "lupo_dialog_threads",
  "fields": [
    "`dialog_thread_id` bigint NOT NULL auto_increment COMMENT 'Primary key for the dialog thread'",
    "`federation_node_id` bigint NOT NULL DEFAULT '1' COMMENT 'Node that owns this thread; default is local installation (1)'",
    "`channel_id` bigint COMMENT 'Optional channel identifier for grouping threads'",
    "`project_slug` varchar(100) COMMENT 'Project or subsystem this thread belongs to'",
    "`task_name` varchar(255) COMMENT 'Human-readable task name for this thread'",
    "`created_by_actor_id` bigint NOT NULL COMMENT 'Agent or human who initiated the thread'",
    "`summary_text` text COMMENT 'Short summary of the thread purpose or context'",
    "`status` enum('Open','Ongoing','Closed','Archived') NOT NULL DEFAULT 'Open' COMMENT 'Thread lifecycle state'",
    "`artifacts` json COMMENT 'Optional JSON list of related files, URLs, or resources'",
    "`metadata_json` json COMMENT 'Metadata: intent, scope, persona, mood, inline dialog metadata'",
    "`created_ymdhis` bigint NOT NULL COMMENT 'Creation timestamp (YYYYMMDDHHMMSS)'",
    "`updated_ymdhis` bigint NOT NULL COMMENT 'Last update timestamp (YYYYMMDDHHMMSS)'",
    "`is_deleted` tinyint NOT NULL DEFAULT '0' COMMENT 'Soft delete flag (1=deleted)'",
    "`deleted_ymdhis` bigint COMMENT 'Deletion timestamp (YYYYMMDDHHMMSS)'"
  ],
  "data": [],
  "indexes": [
    {
      "index_name": "idx_channel",
      "columns": [
        "channel_id"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_created",
      "columns": [
        "created_ymdhis"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_created_by_actor",
      "columns": [
        "created_by_actor_id"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_deleted",
      "columns": [
        "is_deleted"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_node",
      "columns": [
        "federation_node_id"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_project",
      "columns": [
        "project_slug"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_status",
      "columns": [
        "status"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_task",
      "columns": [
        "task_name"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    },
    {
      "index_name": "idx_updated",
      "columns": [
        "updated_ymdhis"
      ],
      "is_unique": false,
      "index_type": "BTREE"
    }
  ],
  "notes": "High-level dialog threads grouping messages across agents, tasks, and projects.",
  "primary_key": {
    "column_name": "dialog_thread_id",
    "expected_name": "dialog_thread_id",
    "is_correct": true,
    "needs_rename": false
  },
  "doctrine_metadata": {
    "no_foreign_keys": true,
    "no_triggers": true
  },
  "relationships": []
}